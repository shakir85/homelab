{
  "$schema": "http://json-schema.org/schema#",
  "type": "object",
  "properties": {
    "namespace": {
      "type": "string",
      "description": "Optional override for the namespace where PVCs will be created."
    },
    "pvc": {
      "type": "object",
      "required": [
        "mounts"
      ],
      "properties": {
        "mounts": {
          "type": "array",
          "minItems": 1,
          "items": {
            "type": "object",
            "required": [
              "claimName",
              "mountPath",
              "name"
            ],
            "properties": {
              "name": {
                "type": "string",
                "pattern": "^pvc-[a-z0-9-]+$",
                "description": "Name used in volumeMounts/volumes. Must start with 'pvc-'."
              },
              "claimName": {
                "type": "string",
                "pattern": "^claim-[a-z0-9-]+$",
                "description": "Name of the PersistentVolumeClaim. Must start with 'claim-'."
              },
              "mountPath": {
                "type": "string",
                "pattern": "^/.*",
                "description": "Absolute mount path inside the container."
              },
              "accessMode": {
                "type": "string",
                "enum": [
                  "ReadWriteOnce",
                  "ReadOnlyMany",
                  "ReadWriteMany"
                ],
                "default": "ReadWriteMany",
                "description": "Kubernetes PVC access mode."
              },
              "storageClassName": {
                "type": "string",
                "description": "Storage class to use for the PVC."
              },
              "storage": {
                "type": "string",
                "pattern": "^[0-9]+(Mi|Gi|Ti)$",
                "default": "1Mi",
                "description": "Requested storage size (e.g. 1Gi, 10Gi)."
              },
              "labels": {
                "type": "object",
                "additionalProperties": {
                  "type": "string"
                },
                "description": "Labels to apply to the PVC."
              },
              "annotations": {
                "type": "object",
                "additionalProperties": {
                  "type": "string"
                },
                "description": "Annotations to apply to the PVC (e.g. custom.synology/path-hint)."
              }
            }
          }
        }
      }
    }
  }
}